---
id: queries
title: Queries
---

## 同步查询

工作流代码在 Temporal 框架中是有状态的，Temporal 可在各种软件和硬件故障时保持状态。状态在工作流执行期间不断变化。为了将此内部状态暴露给外部世界，Temporal 提供了同步查询功能。从工作流实现者的角度来看，查询作为由外部实体调用的同步回调暴露给外部。可以为每种工作流类型提供多个此类回调，从而将不同的信息暴露给不同的外部系统。

要执行查询，外部客户端会调用同步 Temporal API *，*该 API 提供*命名空间、workflowId、查询名称*和可选*查询参数*。

查询回调必须是只读的，不能以任何方式改变工作流的状态。另一个限制是查询回调不能包含任何阻止代码。上述两个限制都排除了从查询处理程序调用活动的能力。

Temporal 团队目前正在努力实现*更新*功能，该功能与查询的调用方式相似，但将支持工作流状态变更和本地活动调用。

## 堆栈跟踪查询

Temporal 客户端库可以直接使用一些预定义的查询。当前，唯一受支持的内置查询是*stack_trace*。该查询返回所有工作流拥有的线程的堆栈。这是解决生产中任何工作流的好方法。

